def transmission_time(Packet_size):
    Bit_rate = 100*(2**20) #100MB
    Packet_transmission_time = Packet_size /Bit_rate
    return Packet_transmission_time

def propagation_time(distance=None):
    light_speed = 299792458 #m/s
    circumference_of_earth = 40075 * (10**3)/2
    if distance==None:
        distance = circumference_of_earth
    transmission_time = distance/light_speed
    return transmission_time

def time_calc(num_prt, num_RfDN, num_RfUtT, vol_RfDN, vol_RfUtT, elapsed_time_on_local_machine):
    time_all = elapsed_time_on_local_machine
    #Decison Nodes Requests and Responses
    Packet_size = vol_RfDN
    temp_time = transmission_time(Packet_size) + propagation_time()
    time_all += temp_time*num_RfDN*num_prt #sequential distribution
    #Update Requests
    Packet_size = vol_RfUtT
    temp_time = transmission_time(Packet_size) + propagation_time()
    time_all += temp_time*num_RfUtT #paralell distribution

    return time_all


Number_of_data_holder_parties = 40
Number_of_requests_for_secure_aggregation = 88955 #Number of RfDN
Number_of_requests_for_updating_the_tabel= 44465 #Number RfUtT
Volume_of_each_message_RfDN_in_Bytes = 680
Volume_of_each_message_RfUtT_in_Bytes = 96
Time_elapesed_for_learing_a_tree_on_one_machine_in_sec = 66211.9879985

time = time_calc(num_prt=Number_of_data_holder_parties,\
                 num_RfDN=Number_of_requests_for_secure_aggregation,\
                 num_RfUtT=Number_of_requests_for_updating_the_tabel,\
                 vol_RfDN=Volume_of_each_message_RfDN_in_Bytes,\
                 vol_RfUtT=Volume_of_each_message_RfUtT_in_Bytes,\
                 elapsed_time_on_local_machine=Time_elapesed_for_learing_a_tree_on_one_machine_in_sec)

print("Required time: ", time)


#=========================================================================================================================
'''
+-------------------+-----------------------------------+------------------------+---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   | Volume Secure Aggregation Message | Volume Update Message  | NUMBER OF PARTIES COLLABORATING | NUMBER OF SECURE AGGREGATIONS | NUMBER UPDATES | ELAPSED TIME FOR LEARNING ON ONE MACHINE | ESTIMATED TIME FOR THE LEARNING PROCESS | F1-SCORE | ACCURACY |
+-------------------+-----------------------------------+------------------------+---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
| Multiple Features | 10664 B                           | 96 B                   | 1                               | 259                           | 117            | 1.8543790000000016                       | 27.011878868760498                      | 36.9     | 47.5     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 5                               | 915                           | 445            | 22.7439405                               | 358.73591061596284                      | 92.7     | 92.8     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 10                              | 1341                          | 658            | 64.1699815                               | 1005.8100342589825                      | 96.1     | 96.1     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 20                              | 2229                          | 1102           | 199.44134599999998                       | 3257.265335784693                       | 97.3     | 97.3     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 40                              | 3593                          | 1784           | 659.0561739999999                        | 10398.856719572033                      | 97.9     | 97.9     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 80                              | 5509                          | 2742           | 2246.1007799999998                       | 31930.995721304487                      | 98.0     | 98.0     |
+-------------------+-----------------------------------+------------------------+---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
| Nursery           | 824 B                             | 96 B                   | 1                               | 1077                          | 526            | 1.0511645000000003                       | 108.20127206828383                      | 65.4     | 76.8     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 5                               | 4269                          | 2122           | 22.608788999999998                       | 1591.2635967943436                      | 73.7     | 90.7     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 10                              | 7515                          | 3745           | 118.861066                               | 5392.631604484535                       | 80.1     | 93.5     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 20                              | 12627                         | 6301           | 464.11668050000003                       | 17766.497295375484                      | 88.1     | 95.2     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 40                              | 17917                         | 8946           | 2044.809579                              | 50549.771709818655                      | 91.9     | 96.6     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 80                              | 25533                         | 12754          | 7215.382252                              | 144609.67565037368                      | 95.3     | 98.2     |
+-------------------+-----------------------------------+------------------------+---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
| Adult             | 680 B                             | 96 B                   | 1                               | 3531                          | 1753           | 9.2169535                                | 362.4129499627522                       | 88.9     | 82.3     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 5                               | 15441                         | 7708           | 352.00342049999995                       | 6027.918226796805                       | 89.9     | 84.0     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 10                              | 28059                         | 14017          | 1783.6398005                             | 21476.387103317735                      | 90.4     | 84.7     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 20                              | 50787                         | 25381          | 10264.7640115                            | 79857.72139801337                       | 90.5     | 85.1     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 40                              | 88955                         | 44465          | 66211.9879985                            | 307029.6866718465                       | 90.9     | 85.6     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 80                              | 154617                        | 77296          | 295052.0025025                           | 1127040.7068441208                      | 90.8     | 85.6     |
+-------------------+-----------------------------------+------------------------+---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
| Waveform          | 456 B                             | 96 B                   | 1                               | 547                           | 261            | 0.30776000000000026                      | 54.315405426424036                      | 57.1     | 58.4     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 5                               | 2271                          | 1123           | 7.0823765000000005                       | 841.1361705178656                       | 78.0     | 78.3     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 10                              | 4361                          | 2168           | 39.6331495                               | 3099.530424991164                       | 80.7     | 80.8     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 20                              | 7665                          | 3820           | 206.82675450000002                       | 10709.068639933792                      | 81.8     | 82.1     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 40                              | 14007                         | 6991           | 1301.868838                              | 39219.51729246027                       | 84.0     | 84.3     |
|                   |                                   |                        +---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+
|                   |                                   |                        | 80                              | 25545                         | 12760          | 7360.326440500001                        | 144812.02074699244                      | 83.9     | 84.1     |
+-------------------+-----------------------------------+------------------------+---------------------------------+-------------------------------+----------------+------------------------------------------+-----------------------------------------+----------+----------+


'''